(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{246:function(t,e,s){t.exports={profileHeader:"ProfileHeader_profileHeader__NIVT7",profile_status:"ProfileHeader_profile_status__2gQah",description:"ProfileHeader_description__1RXC9",description_input:"ProfileHeader_description_input__2lxIG",back_profile:"ProfileHeader_back_profile__1FsLk",avatar:"ProfileHeader_avatar__xIMh4",name:"ProfileHeader_name__26h-t"}},247:function(t,e,s){},248:function(t,e,s){t.exports={post:"Post_post__30YIX",main_area:"Post_main_area__1mato",post_avatar:"Post_post_avatar__3YSId",post_text:"Post_post_text__3cZUY",add_area:"Post_add_area__3jeh4"}},249:function(t,e,s){t.exports={wall:"Wall_wall__3E3rv",submit_box:"Wall_submit_box__2lzQS",submit_area:"Wall_submit_area__JbrGU",submit_button:"Wall_submit_button__1E8vM"}},250:function(t,e,s){"use strict";s.r(e);var a=s(2),r=s(3),i=s(4),n=s(10),o=s(11),c=s(0),u=s.n(c),l=s(22),p=s(247),d=s.n(p),_=s(40),b=s(23),j=s(246),f=s.n(j),m=s(1),h=function(t){var e=Object(c.useState)(!1),s=Object(b.a)(e,2),a=s[0],r=s[1],i=Object(c.useState)(t.status),n=Object(b.a)(i,2),o=n[0],u=n[1];Object(c.useEffect)((function(){u(t.status)}),[t.status]);return Object(m.jsx)("div",{className:f.a.profile_status,children:a?Object(m.jsx)("input",{autoFocus:!0,onBlur:function(){r(!1),t.updateUserStatus(o)},onChange:function(t){u(t.currentTarget.value)},className:f.a.description_input,value:o}):Object(m.jsx)("div",{onDoubleClick:function(){t.isOwner&&r(!0)},className:f.a.description,children:o})})};var D=function(t){return t.user?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:f.a.back_profile,children:Object(m.jsx)("img",{alt:"",src:"https://st.depositphotos.com/1006076/3995/i/600/depositphotos_39951147-stock-photo-spring-landscape-watercolor-flowering-trees.jpg"})}),Object(m.jsxs)("div",{className:f.a.profileHeader,children:[Object(m.jsx)("div",{className:f.a.name,children:t.user.fullName}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:f.a.avatar,children:Object(m.jsx)("img",{alt:"",src:t.user.photos.large||"https://pm1.narvii.com/6526/3c85b728f80710521171197855342fd1d88876fb_hq.jpg"})}),t.isOwner?Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t.saveAvatar(e.target.files[0])}}):null]})]}),Object(m.jsx)(h,{isOwner:t.isOwner,status:t.status,updateUserStatus:t.updateUserStatus})]}):Object(m.jsx)(_.a,{})},x=s(76),O=s(248),v=s.n(O);var B=function(t){return Object(m.jsxs)("div",{className:v.a.post,children:[Object(m.jsxs)("div",{className:v.a.main_area,children:[Object(m.jsx)("img",{className:v.a.post_avatar,alt:"",src:"https://cdn.xxl.thumbs.canstockphoto.ru/%D0%BF%D1%83%D1%80%D0%BF%D1%83%D1%80%D0%BD%D1%8B%D0%B9-%D1%86%D0%B2%D0%B5%D1%82-%D0%BA%D0%B2%D0%B0%D0%B4%D1%80%D0%B0%D1%82-%D0%BC%D0%BE%D0%B7%D0%B0%D0%B8%D0%BA%D0%B0-%D0%B7%D0%B0%D0%B4%D0%BD%D0%B8%D0%B9-%D0%BF%D0%BB%D0%B0%D0%BD-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B5-eps_csp34882537.jpg"}),Object(m.jsx)("div",{className:v.a.post_text,children:t.post_text})]}),Object(m.jsxs)("div",{className:v.a.add_area,children:["\u041b\u0430\u0439\u043a\u0438: ",t.likes]})]})},P=s(249),g=s.n(P),N=s(29),k=s(55),w=u.a.memo((function(t){return Object(m.jsx)(N.d,{initialValues:{postText:""},validationSchema:k.a({postText:k.b().max(350).required()}),onSubmit:function(e,s){var a=s.setSubmitting;setTimeout((function(){t.addPost(e.postText),e.postText="",a(!1)}),400)},children:function(t){var e=t.isSubmitting;return Object(m.jsxs)(N.c,{className:g.a.submit_box,children:[Object(m.jsx)(N.b,{as:"textarea",name:"postText",className:g.a.submit_area,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442!"}),Object(m.jsx)("button",{className:g.a.submit_button,type:"submit",disabled:e,children:" \u0416\u043c\u044f\u043a"})]})}})}));var S=function(t){var e=t.posts.map((function(t){return Object(m.jsx)(B,{post_text:t.post_text,likes:t.likes},t.id)}));return Object(m.jsxs)("div",{className:g.a.wall,children:[Object(m.jsx)(w,{addPost:t.addPost}),e]})},T=Object(l.b)((function(t){return{posts:t.profile.posts}}),(function(t){return{addPost:function(e){t(Object(x.a)(e))},updateNewPostText:function(e){t(Object(x.e)(e))}}}))(S);var U=function(t){return Object(m.jsxs)("div",{className:d.a.profile,children:[Object(m.jsx)(D,{updateUserStatus:t.updateUserStatus,saveAvatar:t.saveAvatar,isOwner:t.isOwner,user:t.user,status:t.status}),Object(m.jsx)(T,{store:t.store})]})},y=s(7),H=s(35),I=function(t){Object(n.a)(s,t);var e=Object(o.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.id)||this.props.history.push("/login"),this.props.getUserProfileThunk(t)}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(U,Object(a.a)(Object(a.a)({},this.props),{},{user:this.props.user,isOwner:!this.props.match.params.userId}))}}]),s}(u.a.Component);e.default=Object(H.c)(Object(l.b)((function(t){return{user:t.profile.user,id:t.auth.id,status:t.profile.status}}),{getUserProfileThunk:x.c,updateUserStatus:x.f,saveAvatar:x.d}),y.f)(I)}}]);
//# sourceMappingURL=3.c56ddfaa.chunk.js.map