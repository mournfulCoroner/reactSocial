{"version":3,"sources":["redux/reducers/dialogs-reducer.js","components/Content/Content.module.css","components/Content/Users/Users.module.css","api/api.js","components/FriendsBlock/FriendsBlock.module.css","redux/reducers/auth-reducer.js","components/Login/Login.js","redux/reducers/users-reducer.js","assets/images/achhi.jpg","components/Content/Users/UserPile/UserPile.js","components/Content/Users/Pagination.js","components/Content/Users/Users.js","components/Content/Users/UsersContainer.js","components/Content/Content.js","components/FriendsBlock/FriendPile/FriendPile.js","components/FriendsBlock/FriendsBlock.js","components/FriendsBlock/FriendsBlockContainer.jsx","components/Header/Header.js","components/Header/HeaderContainer.js","components/Menu/Menu.js","redux/reducers/app-reducer.js","App.js","redux/reducers/friendBar-reducer.js","redux/redux-store.js","index.js","components/Header/Header.module.css","components/Login/Login.module.css","components/Menu/Menu.module.css","assets/images/Ghost.gif","components/Content/common/Preloader/Preloader.js","components/Content/common/errorStyles.module.css","components/Content/common/Preloader/Preloader.module.css","redux/reducers/profile-reducer.js"],"names":["ADD_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","initialState","contacts","id","username","messages","message_text","self","addMessageCreator","textMessage","type","updateNewMessageTextCreator","text","dialogsReducer","state","action","message","newMessageText","module","exports","urlAPI","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","activePage","pageSize","get","then","response","data","deleteFollow","delete","postFollow","post","profileAPI","getUserData","userId","getUserStatus","updateStatus","status","put","saveAvatar","file","formData","FormData","append","headerAPI","getAuth","loginAPI","getAuthorized","authData","email","password","rememberMe","logout","SET_AUTH_USER_DATA","TOGGLE_SUCCESS_AUTH","login","isAuth","successAuth","setAuthUserData","toggleSuccessAuth","dispatch","a","resultCode","authReducer","LoginForm","props","initialValues","validationSchema","Yup","required","onSubmit","values","setSubmitting","setErrors","setTimeout","isSubmittig","touched","errors","className","styles","login_form","name","placeholder","errorStyles","error","component","error_message","remember_area","htmlFor","disabled","connect","auth","to","login_name","FOLLOW","SET_USERS","SET_ACTIVE_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","pageRange","isFetching","isFollowingProgress","followUser","toggleFetching","toggleIsFollowingProgress","isFollowing","usersReducer","map","user","followed","totalCount","filter","UserPile","userPile","src","avatar","alt","userName_block","userName","status_block","onClick","isFollow","some","unfollow_button","follow_button","Pagination","pagesCount","Math","ceil","pages","i","push","useState","activePageRange","setActivePageRange","leftEdge","rightEdge","arrow_button","page","active_page","inactive_page","setActivePage","Users","photos","small","basePhoto","page_users_wrapper","Preloader","users_wrapper","usersPage","items","useEffect","DialogsContainer","React","lazy","ProfileContainer","Content","content","fallback","path","render","FriendPile","friend_pile","friend_pile__avatar","friend_pile__name","friend_name","FriendsBlock","friends","friendBar","friend","isOpenFriends","setIsOpenFriends","fblock","active","fblock__close","fblock__button","e","fblock__open","ftitle","fblock__friends","FriendsBlockContainer","Header","isOpenProfileMenu","setIsOpenProfileMenu","disabledMenu","setDisabledMenu","header","header_block","header_link","header_profile_menu","menu_active","header_profile_menu_link","HeaderContainer","this","Component","Menu","menu","menu_block","activeClassName","active_block","href","INITIALIZE","isInitialized","appReducer","App","initSuccess","compose","withRouter","app","promise","Promise","all","friendBarReducer","reducers","combineReducers","profile","profileReducer","dialogs","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","ReactDOM","basename","process","document","getElementById","fetch_wrapper","fetching","GhostFetching","ADD_POST","UPDATE_NEW_POST_TEXT","SET_PROFILE_USER","SET_USER_STATUS","SET_USER_AVATAR","posts","post_text","likes","addPostActionCreator","postText","updateNewPostTextActionCreator","textPost","setUserStatus","setUserAvatar","getUserProfileThunk","updateUserStatus","newPostText"],"mappings":"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","file":"static/js/main.b76a6da5.chunk.js","sourcesContent":["const ADD_MESSAGE = 'ADD_MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\r\n\r\nlet initialState = {\r\n    contacts: [\r\n        {id: 1, username: 'Алексей'},\r\n        {id: 2, username: 'Андрей'},\r\n        {id: 3, username: 'Алина'}\r\n    ],\r\n    messages: [\r\n        { id: 1, message_text: 'Сообщение 1', self: false },\r\n        { id: 2, message_text: 'Сообщение 2', self: false },\r\n        { id: 3, message_text: 'Ответ', self: true}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: \r\n            let message = {\r\n                id: 7,\r\n                message_text: action.textMessage,\r\n                self: true\r\n            }\r\n            return { ...state,\r\n                messages: [ ...state.messages, message]\r\n            };\r\n        \r\n        case UPDATE_NEW_MESSAGE_TEXT: \r\n            return{ ...state,\r\n                newMessageText: action.textMessage,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageCreator = (textMessage) => ({ type: ADD_MESSAGE, textMessage })\r\nexport const updateNewMessageTextCreator = (text) =>\r\n    ({ type: UPDATE_NEW_MESSAGE_TEXT, textMessage: text })\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__2xbVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_wrapper\":\"Users_users_wrapper__2a1-B\",\"page_users_wrapper\":\"Users_page_users_wrapper__BgIkV\",\"avatar\":\"Users_avatar__2-Uyh\",\"userPile\":\"Users_userPile__2_2fH\",\"status_block\":\"Users_status_block__1qKbx\",\"follow_button\":\"Users_follow_button__22jUh\",\"unfollow_button\":\"Users_unfollow_button__Bgmm3\",\"pages\":\"Users_pages__3uOgh\",\"active_page\":\"Users_active_page__2upMs\",\"inactive_page\":\"Users_inactive_page__3spH9\",\"arrow_button\":\"Users_arrow_button__JTmjf\",\"userName_block\":\"Users_userName_block__2Wk9X\"};","import * as axios from 'axios'\r\n\r\nlet urlAPI = 'https://social-network.samuraijs.com/api/1.0';\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n    headers: { 'API-KEY': '1576d960-b358-4dda-9d33-ca2e2f763bf5'}\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(activePage = 1, pageSize = 9) {\r\n        return instance.get(urlAPI + `/users?page=${activePage}&count=${pageSize}`)\r\n        .then(response => response.data)\r\n    },\r\n    deleteFollow(id){\r\n        return instance.delete(`/follow/${id}`,)\r\n        .then(response => response.data)\r\n    },\r\n    postFollow(id){\r\n        return instance.post(`/follow/${id}`,)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserData(userId){\r\n        return instance.get(`/profile/${userId}`)\r\n        .then(response => response.data)\r\n    },\r\n    getUserStatus(userId){\r\n        return instance.get(`/profile/status/${userId}`)\r\n        .then(response => response.data)\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`/profile/status`, {status: status})\r\n        .then(response => response.data)\r\n    },\r\n    saveAvatar(file){\r\n        const formData = new FormData();\r\n        formData.append('image', file)\r\n        return instance.put(`/profile/photo`, formData)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const headerAPI = {\r\n    getAuth(){\r\n        return instance.get(`/auth/me`)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const loginAPI = {\r\n    getAuthorized(authData){\r\n        return instance.post('/auth/login', {\r\n            email: authData.email,\r\n            password: authData.password,\r\n            rememberMe: authData.rememberMe\r\n        })\r\n        .then(response => response.data)\r\n    },\r\n    logout(){\r\n        return instance.delete('/auth/login')\r\n        .then(response => response.data)\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fblock\":\"FriendsBlock_fblock__a8HES\",\"fblock__open\":\"FriendsBlock_fblock__open__hwzh1\",\"active\":\"FriendsBlock_active__DFvcx\",\"fblock__button\":\"FriendsBlock_fblock__button__gt0bw\",\"fblock__close\":\"FriendsBlock_fblock__close__RQWko\",\"fblock__friends\":\"FriendsBlock_fblock__friends__1gHQD\",\"friend_pile\":\"FriendsBlock_friend_pile__GVHVd\",\"friend_pile__avatar\":\"FriendsBlock_friend_pile__avatar__3KZVz\",\"friend_pile__name\":\"FriendsBlock_friend_pile__name__14R4d\",\"ftitle\":\"FriendsBlock_ftitle__10Xyi\"};","import { headerAPI, loginAPI } from \"../../api/api\";\r\n\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA'\r\n// Убрать потом (или нет) штука для проверки успеха логина\r\nconst TOGGLE_SUCCESS_AUTH = 'TOGGLE_SUCCESS_AUTH'\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    successAuth: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: action.isAuth\r\n            }\r\n        case TOGGLE_SUCCESS_AUTH:\r\n            return {\r\n                ...state,\r\n                successAuth: action.successAuth\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const setAuthUserData = (data, isAuth) => ({ type: SET_AUTH_USER_DATA, data, isAuth });\r\nexport const toggleSuccessAuth = (successAuth) => ({ type: TOGGLE_SUCCESS_AUTH, successAuth })\r\n\r\nexport const getAuth = () => async (dispatch) => {\r\n    let data = await headerAPI.getAuth()\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(data.data, true));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const getAuthorized = (authData) => async (dispatch) => {\r\n    let data = await loginAPI.getAuthorized(authData)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuth());\r\n        dispatch(toggleSuccessAuth(null));\r\n    }\r\n    else {\r\n        dispatch(toggleSuccessAuth(data.messages[0]));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await loginAPI.logout()\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData({ id: null, email: null, login: null }, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport styles from './Login.module.css'\r\nimport errorStyles from './../Content/common/errorStyles.module.css'\r\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { getAuthorized } from '../../redux/reducers/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <Formik\r\n            initialValues={{ email: '', password: '', rememberMe: false}}\r\n            validationSchema={Yup.object({\r\n                email: Yup.string()\r\n                    .required('Required'),\r\n                password: Yup.string()\r\n                    .required('Required'),\r\n            })}\r\n            onSubmit={(values, { setSubmitting, setErrors }) => {\r\n\r\n                setTimeout(() => {\r\n                    props.getAuthorized(values).then(()=>{\r\n                        setErrors({rememberMe: props.successAuth})\r\n                    })\r\n                    setSubmitting(false);\r\n                }, 400);\r\n            }}\r\n        >\r\n            {({ isSubmittig, touched, errors, status}) => (\r\n                <Form className={styles.login_form}>\r\n                    <Field name='email' type='email' placeholder={'Email'} \r\n                    className={touched.email && errors.email  && `${errorStyles.error}`}/>\r\n                    <ErrorMessage name='email' component=\"div\" className={styles.error_message} />\r\n\r\n                    <Field name='password' type='password' placeholder={'Password'} \r\n                     className={touched.password && errors.password && `${errorStyles.error}`}/>\r\n                    <ErrorMessage name='password' component=\"div\" className={styles.error_message} />\r\n{/* \r\n                    {status?.apiError ? <div className={styles.error_message}>{status.apiError}</div> : null} */}\r\n                    \r\n                    <ErrorMessage name='rememberMe' component=\"div\" className={styles.error_message} /> \r\n\r\n                    <div className={styles.remember_area}>\r\n                        <Field name='rememberMe' type='checkbox' />\r\n                        <label htmlFor='rememberMe'>Remember me</label>\r\n                    </div>\r\n\r\n                    <button type='submit' disabled={isSubmittig} >Клик</button>\r\n                </Form>)}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    if (props.isAuth){\r\n        return <Redirect to={`/profile`} /> \r\n    }\r\n    return (\r\n        <div>\r\n            {props.isAuth ? <div>Вы залогинены</div> :  \r\n            <>\r\n            <div className={styles.login_name}>Логин</div>\r\n            <LoginForm getAuthorized={props.getAuthorized} successAuth={props.successAuth} />\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        id: state.auth.id,\r\n        successAuth: state.auth.successAuth\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    getAuthorized\r\n}) (Login)","import { usersAPI } from \"../../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_ACTIVE_PAGE = 'SET_ACTIVE_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [\r\n    ],\r\n    pageSize: 9,\r\n    totalUsersCount: 0,\r\n    pageRange: 10,\r\n    activePage: 1,\r\n    isFetching: false,\r\n    isFollowingProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((user) => {\r\n                    if (user.id === action.userId) {\r\n                        return {\r\n                            ...user,\r\n                            followed: !user.followed\r\n                        }\r\n                    }\r\n                    return user;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return { ...state, users: action.users }\r\n\r\n        case SET_ACTIVE_PAGE:\r\n            return { ...state, activePage: action.activePage }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.totalCount }\r\n\r\n        case TOGGLE_FETCHING:\r\n            return { ...state, isFetching: action.isFetching }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, isFollowingProgress: action.isFollowing ?\r\n                    [...state.isFollowingProgress, action.userId] :\r\n                    state.isFollowingProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const followUser = (userId) => ({ type: FOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setActivePage = (activePage) => ({ type: SET_ACTIVE_PAGE, activePage });\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, totalCount });\r\nexport const toggleFetching = (isFetching) => ({ type: TOGGLE_FETCHING, isFetching });\r\nexport const toggleIsFollowingProgress = (isFollowing, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFollowing, userId })\r\n\r\nexport const getUsersThunk = (activePage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n\r\n    let data = await usersAPI.getUsers(activePage, pageSize)\r\n\r\n    dispatch(toggleFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nexport const followUserThunk = (userId, isFollow) => async (dispatch) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n    let data = isFollow ? await usersAPI.deleteFollow(userId) : await usersAPI.postFollow(userId);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(followUser(userId));\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\n\r\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/achhi.024d6484.jpg\";","import { NavLink } from 'react-router-dom';\r\nimport styles from './../Users.module.css';\r\n\r\nconst UserPile = (props) => {\r\n\r\n    let onFollow = () => {\r\n       props.followUser(props.id, props.isFollow);\r\n    }\r\n    \r\n    return (\r\n        <div className={styles.userPile}>\r\n            <NavLink to={`/profile/${props.id}`}><img src={props.avatar} className={styles.avatar} alt=''></img></NavLink>\r\n            <div className={styles.userName_block}>{props.userName}</div>\r\n            <div className={styles.status_block}>{props.status}</div>\r\n            <button onClick={onFollow} disabled={props.isFollowingProgress.some(id => id === props.id)} className={\r\n                props.isFollow ? `${styles.unfollow_button}` : `${styles.follow_button}`\r\n            }>\r\n                {\r\n                    props.isFollow ? 'Отписаться' : 'Подписаться'\r\n                }\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPile;","import {  useState } from 'react';\r\nimport styles from './Users.module.css'\r\n\r\n\r\nlet Pagination = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let pageRange = props.pageRange;\r\n    let [activePageRange, setActivePageRange] = useState(1);\r\n    let leftEdge = (activePageRange - 1) * pageRange + 1;\r\n    let rightEdge = activePageRange * pageRange;\r\n\r\n    return (\r\n        <div className={styles.pages}>\r\n            {\r\n                activePageRange > 1 && <button className={styles.arrow_button} onClick={() => {setActivePageRange(1)}}>{'<<'}</button>\r\n            }\r\n            {\r\n                activePageRange > 1 && <button className={styles.arrow_button} onClick={() => {setActivePageRange(activePageRange - 1)}}>{'<--'}</button>\r\n            }\r\n            {\r\n                pages.filter((page) => page >= leftEdge && page <= rightEdge)\r\n                .map((page) => {\r\n                    return (<span key={page} className={props.activePage === page ? styles.active_page : styles.inactive_page}\r\n                        onClick={() => { props.setActivePage(page) }}>\r\n                        {page}</span>\r\n                    )\r\n                })\r\n            }\r\n            {\r\n                activePageRange < pageRange && <button className={styles.arrow_button} onClick={() => {setActivePageRange(activePageRange + 1)}}>{'-->'}</button>\r\n            }\r\n            {\r\n                activePageRange < pageRange && <button className={styles.arrow_button} onClick={() => {setActivePageRange(pageRange)}}>{'>>'}</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import styles from './Users.module.css'\r\nimport basePhoto from './../../../assets/images/achhi.jpg'\r\nimport UserPile from './UserPile/UserPile';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport Pagination from './Pagination';\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    let users = props.users.map((user) => <UserPile key={user.id} id={user.id}\r\n        userName={user.name} status={user.status} isFollow={user.followed}\r\n        followUser={props.followUser} avatar={\r\n            user.photos.small != null ? user.photos.small : basePhoto}\r\n            isFollowingProgress={props.isFollowingProgress} toggleIsFollowingProgress={props.toggleIsFollowingProgress} />)\r\n\r\n            \r\n    return (\r\n        <div className={styles.page_users_wrapper}>\r\n            <Pagination totalUsersCount={props.totalUsersCount} pageSize={props.pageSize}\r\n            activePage={props.activePage} setActivePage={props.setActivePage}\r\n            pageRange={props.pageRange}/>\r\n            {props.isFetching ?\r\n                <Preloader />\r\n                : <div className={styles.users_wrapper}>\r\n                    {users}\r\n                </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { followUserThunk, getUsersThunk, setActivePage, toggleIsFollowingProgress } from \"../../../redux/reducers/users-reducer\";\r\nimport Users from \"./Users\";\r\n\r\n\r\nconst UsersContainer = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.getUsers(props.activePage, props.pageSize);\r\n    }, [props.activePage])// eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return <Users {...props} />\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        activePage: state.usersPage.activePage,\r\n        isFetching: state.usersPage.isFetching,\r\n        isFollowingProgress: state.usersPage.isFollowingProgress,\r\n        pageRange: state.usersPage.pageRange\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {\r\n        setActivePage,\r\n        toggleIsFollowingProgress,\r\n        getUsers: getUsersThunk,\r\n        followUser: followUserThunk\r\n    }\r\n)(UsersContainer);","import React, { Suspense } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport Login from '../Login/Login';\r\nimport Preloader from './common/Preloader/Preloader';\r\nimport styles from './Content.module.css';\r\nimport UsersContainer from './Users/UsersContainer';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./Profile/ProfileContainer'))\r\n\r\nfunction Content(props) {\r\n    return (\r\n        <div className={styles.content}>\r\n            <Suspense fallback={<Preloader />}>\r\n                <Route path='/profile/:userId?' render={() => <ProfileContainer />}></Route>\r\n                <Route path='/messages' render={() => <DialogsContainer />}></Route></Suspense>\r\n            <Route path='/users' render={() => <UsersContainer />}></Route>\r\n            <Route path='/login' render={() => <Login />}></Route>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Content;","import styles from './../FriendsBlock.module.css';\r\n\r\nconst FriendPile = (props) => {\r\n    return (\r\n        <div id={props.id} className={styles.friend_pile}>\r\n            <img src='https://sc1.musik-produktiv.com/pic-007804074xxl/jupiter-jep1000.jpg' alt='' className={styles.friend_pile__avatar}></img>\r\n            <div className={styles.friend_pile__name}>{props.friend_name}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendPile","import { useState } from 'react';\r\nimport FriendPile from './FriendPile/FriendPile';\r\nimport styles from './FriendsBlock.module.css';\r\n\r\n\r\nconst FriendsBlock = (props) => {\r\n    let friends = props.friendBar.friends.map((friend) => <FriendPile key={friend.id} id={friend.id} friend_name={friend.friend_name} />);\r\n    \r\n    let [isOpenFriends, setIsOpenFriends] = useState(false);\r\n    let open_friends = (e) => {\r\n        setIsOpenFriends(!isOpenFriends);        \r\n    }\r\n    \r\n    return (\r\n        <div className={isOpenFriends ? `${styles.fblock} ${styles.active}` : `${styles.fblock}`}>\r\n            <div className={styles.fblock__close}>\r\n                <button className={styles.fblock__button} onClick={ open_friends }>{!isOpenFriends ? '>' : '<'}</button>\r\n            </div>\r\n            <div className={styles.fblock__open\r\n                /* isOpenFriends ? `${styles.fblock__open} ${styles.active}` : `${styles.fblock__open}` */}>\r\n                <p className={styles.ftitle}>Palms</p>\r\n                <div className={styles.fblock__friends}>\r\n                    {friends}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendsBlock;","import { connect } from \"react-redux\"\r\nimport FriendsBlock from \"./FriendsBlock\"\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friendBar: state.friendBar\r\n    }\r\n}\r\n\r\nconst FriendsBlockContainer = connect(mapStateToProps, null)(FriendsBlock);\r\n\r\nexport default FriendsBlockContainer;","import { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.css';\r\n\r\nfunction Header(props) {\r\n  const [isOpenProfileMenu, setIsOpenProfileMenu] = useState(false);\r\n  const [disabledMenu, setDisabledMenu] = useState(false);\r\n\r\n  const onClickProfileMenu = () => {\r\n    setIsOpenProfileMenu(!isOpenProfileMenu);\r\n  }\r\n\r\n  const onClickLogout = () => {\r\n    setDisabledMenu(true);\r\n    setIsOpenProfileMenu(!isOpenProfileMenu);\r\n    props.logout();\r\n  }\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.header_block}>\r\n        <NavLink to={ props.isAuth ? `/profile` : '/profile'}>Отчаяние</NavLink>\r\n      </div>\r\n      <div>\r\n        {props.isAuth ? <button onClick={ onClickProfileMenu } className={styles.header_link} disabled={disabledMenu}\r\n          >{props.login}</button> :\r\n          <NavLink className={styles.header_link} to='/login'>Войти</NavLink>}\r\n\r\n\r\n        <NavLink className={styles.header_link} to='/users'>Пользователи</NavLink>        \r\n        <div className={isOpenProfileMenu ? `${styles.header_profile_menu} ${styles.menu_active}`\r\n        : `${styles.header_profile_menu}`}>\r\n          <button onClick= { onClickLogout } className={styles.header_profile_menu_link}>Выйти</button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/reducers/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (<Header {...this.props} />)\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        id: state.auth.id\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    logout\r\n})(HeaderContainer)","import { NavLink } from 'react-router-dom';\r\nimport styles from './Menu.module.css';\r\n\r\nfunction Menu() {\r\n    return (\r\n\r\n        <div className={styles.menu}>\r\n            <NavLink className={styles.menu_block} activeClassName={styles.active_block} to='/profile'>p</NavLink>\r\n            <NavLink className={styles.menu_block} activeClassName={styles.active_block} to='/messages'>m</NavLink>\r\n            <a className={styles.menu_block} href='/friends'>f</a>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Menu;","import { getAuth } from \"./auth-reducer\";\r\n\r\nconst INITIALIZE = 'INITIALIZE'\r\n\r\n\r\nlet initialState = {\r\n    isInitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZE:\r\n            return {\r\n                ...state,\r\n                isInitialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const initialize = () => ({ type: INITIALIZE });\r\n\r\n\r\nexport const initSuccess = () => {\r\n    return (dispatch) => {\r\n       let promise = dispatch(getAuth());\r\n\r\n       Promise.all([promise]).then(() =>{\r\n            dispatch(initialize())\r\n       }\r\n       )\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport './App.css';\r\nimport Preloader from './components/Content/common/Preloader/Preloader';\r\nimport Content from './components/Content/Content';\r\nimport FriendsBlockContainer from './components/FriendsBlock/FriendsBlockContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Menu from './components/Menu/Menu';\r\nimport { initSuccess } from './redux/reducers/app-reducer';\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount(){\r\n    this.props.initSuccess();\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.isInitialized){\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"wrapper\">\r\n          <HeaderContainer />\r\n          <FriendsBlockContainer />\r\n          <Menu />\r\n          <Content /> \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isInitialized: state.app.isInitialized\r\n})\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initSuccess})\r\n)(App);\r\n","\r\nlet initialState = {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            friend_name: 'Константин'\r\n        },\r\n        {\r\n            id: 2,\r\n            friend_name: 'Олеся'\r\n        }\r\n    ]\r\n};\r\n\r\nconst friendBarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default friendBarReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport appReducer from \"./reducers/app-reducer\";\r\nimport authReducer from \"./reducers/auth-reducer\";\r\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\r\nimport friendBarReducer from \"./reducers/friendBar-reducer\";\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profile: profileReducer,\r\n    dialogs: dialogsReducer,\r\n    friendBar: friendBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n// let store = createStore(reducers, );\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './redux/redux-store'\r\nimport {  HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nReactDOM.render(\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_block\":\"Header_header_block__1pGVZ\",\"header_link\":\"Header_header_link__17VYO\",\"header_profile_menu\":\"Header_header_profile_menu__1-JOh\",\"menu_active\":\"Header_menu_active__AUXzL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_name\":\"Login_login_name__1ioYy\",\"login_form\":\"Login_login_form__dwEZ5\",\"error_message\":\"Login_error_message__S5d-Q\",\"remember_area\":\"Login_remember_area__1ZXkf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__2K7YX\",\"menu_block\":\"Menu_menu_block__YYx4A\",\"active_block\":\"Menu_active_block__M0eDT\"};","export default __webpack_public_path__ + \"static/media/Ghost.ba14ef10.gif\";","import styles from './Preloader.module.css'\r\nimport GhostFetching from './../../../../assets/images/Ghost.gif';\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={styles.fetch_wrapper}><img className={styles.fetching} src={GhostFetching} alt=''></img>\r\n    <p>learn react...</p>  </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error_message\":\"errorStyles_error_message__2kfEQ\",\"error\":\"errorStyles_error__xmn-e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fetch_wrapper\":\"Preloader_fetch_wrapper__35Eeg\",\"fetching\":\"Preloader_fetching__37Ns6\"};","import { profileAPI } from \"../../api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT';\r\nconst SET_PROFILE_USER = 'SET_PROFILE_USER';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst SET_USER_AVATAR = 'SET_USER_AVATAR';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            post_text: 'Данил хомячок',\r\n            likes: 20\r\n        },\r\n        {\r\n            id: 2,\r\n            post_text: 'Или нет??',\r\n            likes: 25\r\n        }\r\n    ],\r\n    profile: {\r\n        user: null\r\n    },\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let post = {\r\n                id: 6,\r\n                post_text: action.postText,\r\n                likes: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [post, ...state.posts],\r\n            };\r\n\r\n        case UPDATE_NEW_POST_TEXT:\r\n            return {\r\n                ...state,\r\n                newPostText: action.textPost\r\n            }\r\n\r\n        case SET_PROFILE_USER:\r\n            return { ...state, user: action.user }\r\n\r\n\r\n        case SET_USER_STATUS:\r\n            return { ...state, status: action.status ? action.status : '' }\r\n\r\n        case SET_USER_AVATAR:\r\n            return {...state, user: {...state.user, photos: action.file}}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (postText) => ({ type: ADD_POST, postText })\r\nexport const updateNewPostTextActionCreator = (text) =>\r\n    ({ type: UPDATE_NEW_POST_TEXT, textPost: text })\r\nexport const setProfileUser = (user) => ({ type: SET_PROFILE_USER, user })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\nexport const setUserAvatar = (file) => ({ type: SET_USER_AVATAR, file })\r\n\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getUserData(userId)\r\n    dispatch(setProfileUser(data));\r\n\r\n    data = await profileAPI.getUserStatus(userId)\r\n    dispatch(setUserStatus(data))\r\n}\r\n\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let data = await profileAPI.updateStatus(status)\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport const saveAvatar = (file) => async (dispatch) => {\r\n    let data = await profileAPI.saveAvatar(file)\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserAvatar(data.data.photos))\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}