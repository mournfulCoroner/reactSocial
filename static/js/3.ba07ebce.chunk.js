(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{246:function(e,t,s){e.exports={profileHeader:"ProfileHeader_profileHeader__NIVT7",profile_status:"ProfileHeader_profile_status__2gQah",description:"ProfileHeader_description__1RXC9",description_input:"ProfileHeader_description_input__2lxIG",back_profile:"ProfileHeader_back_profile__1FsLk",avatar_block:"ProfileHeader_avatar_block__3XNGS",avatar:"ProfileHeader_avatar__xIMh4",avatar_button:"ProfileHeader_avatar_button__2HkDI",name:"ProfileHeader_name__26h-t",profile_info:"ProfileHeader_profile_info__22Z7v"}},247:function(e,t,s){},248:function(e,t,s){e.exports={post:"Post_post__30YIX",main_area:"Post_main_area__1mato",post_avatar:"Post_post_avatar__3YSId",post_text:"Post_post_text__3cZUY",add_area:"Post_add_area__3jeh4"}},249:function(e,t,s){e.exports={wall:"Wall_wall__3E3rv",submit_box:"Wall_submit_box__2lzQS",submit_area:"Wall_submit_area__JbrGU",submit_button:"Wall_submit_button__1E8vM"}},250:function(e,t,s){"use strict";s.r(t);var a=s(2),r=s(3),i=s(4),c=s(10),n=s(11),o=s(0),u=s.n(o),l=s(22),b=s(247),d=s.n(b),j=s(23),p=s(40),_=s(246),f=s.n(_),h=s(1),O=function(e){var t=Object(o.useState)(!1),s=Object(j.a)(t,2),a=s[0],r=s[1],i=Object(o.useState)(e.status),c=Object(j.a)(i,2),n=c[0],u=c[1];Object(o.useEffect)((function(){u(e.status)}),[e.status]);return Object(h.jsx)("div",{className:f.a.profile_status,children:a?Object(h.jsx)("input",{autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(n)},onChange:function(e){u(e.currentTarget.value)},className:f.a.description_input,value:n}):Object(h.jsx)("div",{onDoubleClick:function(){e.isOwner&&r(!0)},className:f.a.description,children:n})})},m=function(e){return Object(h.jsxs)("div",{children:[e.user.aboutMe?Object(h.jsx)("div",{className:f.a.profile_info,children:e.user.aboutMe}):null,Object(h.jsxs)("div",{className:f.a.profile_info,children:[Object(h.jsxs)("div",{className:f.a.job_block,children:["Looking for a job? ",e.user.lookingForAJob?"Yes!":"No!",Object(h.jsx)("br",{}),e.user.lookingForAJobDescription||null]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:f.a.contacts_block,children:["My Contacts:",Object(h.jsx)("br",{}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["github: ",e.user.contacts.github||"-"]}),Object(h.jsxs)("li",{children:["vk: ",e.user.contacts.vk||"-"]}),Object(h.jsxs)("li",{children:["facebook: ",e.user.contacts.facebook||"-"]}),Object(h.jsxs)("li",{children:["instagram: ",e.user.contacts.instagram||"-"]}),Object(h.jsxs)("li",{children:["twitter: ",e.user.contacts.twitter||"-"]}),Object(h.jsxs)("li",{children:["website: ",e.user.contacts.website||"-"]}),Object(h.jsxs)("li",{children:["youtube: ",e.user.contacts.youtube||"-"]}),Object(h.jsxs)("li",{children:["mainLink: ",e.user.contacts.mainLink||"-"]})]})]})]})]})},x=s.p+"static/media/green_dots.3bb7bdc7.svg";var v=function(e){var t=Object(o.useState)(!1),s=Object(j.a)(t,2);return s[0],s[1],e.user?Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:f.a.back_profile,children:Object(h.jsx)("img",{alt:"",src:x})}),Object(h.jsxs)("div",{className:f.a.profileHeader,children:[Object(h.jsx)("div",{className:f.a.name,children:e.user.fullName}),Object(h.jsxs)("div",{className:f.a.avatar_block,children:[Object(h.jsx)("div",{className:f.a.avatar,children:Object(h.jsx)("img",{alt:"",src:e.user.photos.large||"https://pm1.narvii.com/6526/3c85b728f80710521171197855342fd1d88876fb_hq.jpg"})}),e.isOwner?Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{for:"avatar-upload",className:f.a.avatar_button,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"}),Object(h.jsx)("input",{id:"avatar-upload",type:"file",onChange:function(t){t.target.files.length&&e.saveAvatar(t.target.files[0])}})]}):null]})]}),Object(h.jsx)(O,{isOwner:e.isOwner,status:e.status,updateUserStatus:e.updateUserStatus}),Object(h.jsx)(m,{user:e.user,isOwner:e.isOwner})]}):Object(h.jsx)(p.a,{})},D=s(76),B=s(248),k=s.n(B);var N=function(e){return Object(h.jsxs)("div",{className:k.a.post,children:[Object(h.jsxs)("div",{className:k.a.main_area,children:[Object(h.jsx)("img",{className:k.a.post_avatar,alt:"",src:"https://cdn.xxl.thumbs.canstockphoto.ru/%D0%BF%D1%83%D1%80%D0%BF%D1%83%D1%80%D0%BD%D1%8B%D0%B9-%D1%86%D0%B2%D0%B5%D1%82-%D0%BA%D0%B2%D0%B0%D0%B4%D1%80%D0%B0%D1%82-%D0%BC%D0%BE%D0%B7%D0%B0%D0%B8%D0%BA%D0%B0-%D0%B7%D0%B0%D0%B4%D0%BD%D0%B8%D0%B9-%D0%BF%D0%BB%D0%B0%D0%BD-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B5-eps_csp34882537.jpg"}),Object(h.jsx)("div",{className:k.a.post_text,children:e.post_text})]}),Object(h.jsxs)("div",{className:k.a.add_area,children:["\u041b\u0430\u0439\u043a\u0438: ",e.likes]})]})},g=s(249),P=s.n(g),w=s(29),S=s(55),H=u.a.memo((function(e){return Object(h.jsx)(w.d,{initialValues:{postText:""},validationSchema:S.a({postText:S.b().max(350).required()}),onSubmit:function(t,s){var a=s.setSubmitting;setTimeout((function(){e.addPost(t.postText),t.postText="",a(!1)}),400)},children:function(e){var t=e.isSubmitting;return Object(h.jsxs)(w.c,{className:P.a.submit_box,children:[Object(h.jsx)(w.b,{as:"textarea",name:"postText",className:P.a.submit_area,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442!"}),Object(h.jsx)("button",{className:P.a.submit_button,type:"submit",disabled:t,children:" \u0416\u043c\u044f\u043a"})]})}})}));var y=function(e){var t=e.posts.map((function(e){return Object(h.jsx)(N,{post_text:e.post_text,likes:e.likes},e.id)}));return Object(h.jsxs)("div",{className:P.a.wall,children:[Object(h.jsx)(H,{addPost:e.addPost}),t]})},T=Object(l.b)((function(e){return{posts:e.profile.posts}}),(function(e){return{addPost:function(t){e(Object(D.a)(t))},updateNewPostText:function(t){e(Object(D.e)(t))}}}))(y);var U=function(e){return Object(h.jsxs)("div",{className:d.a.profile,children:[Object(h.jsx)(v,{updateUserStatus:e.updateUserStatus,saveAvatar:e.saveAvatar,isOwner:e.isOwner,user:e.user,status:e.status}),Object(h.jsx)(T,{store:e.store})]})},I=s(7),A=s(35),C=function(e){Object(c.a)(s,e);var t=Object(n.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id)||this.props.history.push("/login"),this.props.getUserProfileThunk(e)}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(U,Object(a.a)(Object(a.a)({},this.props),{},{user:this.props.user,isOwner:!this.props.match.params.userId}))}}]),s}(u.a.Component);t.default=Object(A.c)(Object(l.b)((function(e){return{user:e.profile.user,id:e.auth.id,status:e.profile.status}}),{getUserProfileThunk:D.c,updateUserStatus:D.f,saveAvatar:D.d}),I.f)(C)}}]);
//# sourceMappingURL=3.ba07ebce.chunk.js.map