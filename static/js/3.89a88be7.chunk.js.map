{"version":3,"sources":["components/Content/Profile/ProfileHeader/ProfileHeader.module.css","components/Content/Profile/Wall/Post/Post.module.css","components/Content/Profile/Wall/Wall.module.css","components/Content/Profile/ProfileHeader/PorfileStatus.js","components/Content/Profile/ProfileHeader/ProfileHeader.js","components/Content/Profile/Wall/Post/Post.js","components/Content/Profile/Wall/Wall.js","components/Content/Profile/Wall/WallContainer.jsx","components/Content/Profile/Profile.js","components/Content/Profile/ProfileContainer.js"],"names":["module","exports","ProfileStatus","props","useState","isEdit","setIsEdit","status","setStatus","useEffect","className","styles","profile_status","autoFocus","onBlur","updateUserStatus","onChange","e","currentTarget","value","description_input","onDoubleClick","description","ProfileHeader","user","back_profile","alt","src","profileHeader","name","fullName","avatar","photos","small","Preloader","Post","post","main_area","post_avatar","post_text","add_area","likes","WallForm","React","memo","initialValues","postText","validationSchema","Yup","max","required","onSubmit","values","setSubmitting","setTimeout","addPost","isSubmitting","submit_box","as","submit_area","placeholder","submit_button","type","disabled","Wall","posts","map","id","wall","WallContainer","connect","state","profile","dispatch","addPostActionCreator","updateNewPostText","text","updateNewPostTextActionCreator","Profile","store","ProfileContainer","userId","this","match","params","history","push","getUserProfileThunk","Component","compose","auth","withRouter"],"mappings":"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","file":"static/js/3.89a88be7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileHeader\":\"ProfileHeader_profileHeader__NIVT7\",\"profile_status\":\"ProfileHeader_profile_status__2gQah\",\"description\":\"ProfileHeader_description__1RXC9\",\"description_input\":\"ProfileHeader_description_input__2lxIG\",\"back_profile\":\"ProfileHeader_back_profile__1FsLk\",\"avatar\":\"ProfileHeader_avatar__xIMh4\",\"name\":\"ProfileHeader_name__26h-t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__30YIX\",\"main_area\":\"Post_main_area__1mato\",\"post_avatar\":\"Post_post_avatar__3YSId\",\"post_text\":\"Post_post_text__3cZUY\",\"add_area\":\"Post_add_area__3jeh4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wall\":\"Wall_wall__3E3rv\",\"submit_box\":\"Wall_submit_box__2lzQS\",\"submit_area\":\"Wall_submit_area__JbrGU\",\"submit_button\":\"Wall_submit_button__1E8vM\"};","import React, { useEffect, useState } from 'react';\r\nimport styles from './ProfileHeader.module.css';\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    const [isEdit, setIsEdit] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=> {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n    \r\n    let enableEditMode = () => {\r\n        setIsEdit(true);\r\n    }\r\n\r\n    let disableEditMode = () => {\r\n        setIsEdit(false);\r\n        props.updateUserStatus(status);\r\n    }\r\n\r\n    let onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    // componentDidUpdate(prevProps, prevState){\r\n    //     if (prevProps.status !== this.props.status) {\r\n    //         this.setState({ status: this.props.status })\r\n    //     }\r\n    // }\r\n\r\n    return (\r\n        <div className={styles.profile_status}>\r\n            {\r\n                !isEdit ?\r\n                    <div onDoubleClick={enableEditMode} className={styles.description}>{status}</div> :\r\n                    <input autoFocus={true} onBlur={disableEditMode} onChange={onStatusChange}\r\n                        className={styles.description_input} value={status}></input>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default ProfileStatus;","import Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatus from './PorfileStatus';\r\nimport styles from './ProfileHeader.module.css';\r\n\r\nfunction ProfileHeader(props) {\r\n\r\n    if(!props.user){\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.back_profile}>\r\n                <img alt='' src='https://st.depositphotos.com/1006076/3995/i/600/depositphotos_39951147-stock-photo-spring-landscape-watercolor-flowering-trees.jpg'></img>\r\n            </div>\r\n            <div className={styles.profileHeader}>\r\n            <div className={styles.name}>{props.user.fullName}</div>\r\n            <div className={styles.avatar}>\r\n                <img alt='' src={props.user.photos.small || 'https://pm1.narvii.com/6526/3c85b728f80710521171197855342fd1d88876fb_hq.jpg'}></img>\r\n            </div>\r\n            </div>\r\n            <ProfileStatus status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileHeader;","import styles from './Post.module.css';\r\n\r\nfunction Post(props) {\r\n    return (\r\n        <div className={styles.post}>\r\n            <div className={styles.main_area}>\r\n                <img className={styles.post_avatar} alt='' src='https://cdn.xxl.thumbs.canstockphoto.ru/%D0%BF%D1%83%D1%80%D0%BF%D1%83%D1%80%D0%BD%D1%8B%D0%B9-%D1%86%D0%B2%D0%B5%D1%82-%D0%BA%D0%B2%D0%B0%D0%B4%D1%80%D0%B0%D1%82-%D0%BC%D0%BE%D0%B7%D0%B0%D0%B8%D0%BA%D0%B0-%D0%B7%D0%B0%D0%B4%D0%BD%D0%B8%D0%B9-%D0%BF%D0%BB%D0%B0%D0%BD-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B5-eps_csp34882537.jpg'></img>\r\n                <div className={styles.post_text}>{props.post_text}</div>\r\n            </div>\r\n            <div className={styles.add_area}>\r\n                Лайки: {props.likes}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport styles from './Wall.module.css';\r\nimport { Formik, Field, Form} from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nconst WallForm = React.memo(props => {\r\n    return (\r\n        <Formik initialValues={{ postText: '' }}\r\n            validationSchema={\r\n                Yup.object({\r\n                    postText: Yup.string()\r\n                        .max(350)\r\n                        .required()\r\n                })\r\n            }\r\n            onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                    props.addPost(values.postText);\r\n                    values.postText = '';\r\n                    setSubmitting(false);\r\n                }, 400);\r\n            }} >\r\n\r\n            {({isSubmitting}) => (\r\n                <Form className={styles.submit_box}>\r\n                    <Field as='textarea' name=\"postText\"\r\n                     className={styles.submit_area} placeholder='Введите текст!'/>\r\n                    \r\n                    <button className={styles.submit_button} type='submit'\r\n                     disabled={isSubmitting}> Жмяк</button>\r\n\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n})\r\n\r\n\r\n\r\nfunction Wall(props) {\r\n    let posts = props.posts.map(post => <Post key={post.id} post_text={post.post_text} likes={post.likes} />)\r\n\r\n    return (\r\n        <div className={styles.wall}>\r\n            <WallForm addPost={props.addPost}/>\r\n            {/* <div className={styles.submit_box}>\r\n                <textarea onChange={onChangeNewPost} value={props.newPostText} name=\"postText\" className={styles.submit_area} placeholder='Введите текст!' />\r\n                <button className={styles.submit_button} type='submit' onClick={createPost}>Жмяк</button>\r\n            </div> */}\r\n            {\r\n                posts\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Wall;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator, updateNewPostTextActionCreator } from '../../../../redux/reducers/profile-reducer';\r\nimport Wall from './Wall';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profile.posts\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (postText) => {\r\n            dispatch(addPostActionCreator(postText));\r\n        },\r\n        updateNewPostText: (text) => {\r\n            dispatch(updateNewPostTextActionCreator(text))\r\n        }\r\n    }\r\n}\r\n\r\nconst WallContainer = connect(mapStateToProps, mapDispatchToProps) (Wall);\r\n\r\nexport default WallContainer;","import styles from './Profile.module.css';\r\nimport ProfileHeader from './ProfileHeader/ProfileHeader';\r\nimport WallContainer from './Wall/WallContainer';\r\n\r\nfunction Profile(props) {\r\n    return (\r\n        <div className={styles.profile}>\r\n            <ProfileHeader updateUserStatus={props.updateUserStatus} user={props.user} status={props.status}/>\r\n            <WallContainer store={props.store}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport { getUserProfileThunk, updateUserStatus } from \"../../../redux/reducers/profile-reducer\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.id;\r\n            if(!userId){\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n        this.props.getUserProfileThunk(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} user={this.props.user} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        user: state.profile.user,\r\n        id: state.auth.id,\r\n        status: state.profile.status\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getUserProfileThunk,\r\n        updateUserStatus\r\n    }),\r\n    withRouter\r\n)(ProfileContainer)"],"sourceRoot":""}